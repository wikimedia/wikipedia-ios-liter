!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.pagelib=t():e.pagelib=t()}(this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=34)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof window&&window.CustomEvent||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};t.default={matchesSelector:function(e,t){return e.matches?e.matches(t):e.matchesSelector?e.matchesSelector(t):!!e.webkitMatchesSelector&&e.webkitMatchesSelector(t)},querySelectorAll:function(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))},CustomEvent:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=function(e,t){var n=void 0;for(n=e.parentElement;n&&!r.default.matchesSelector(n,t);n=n.parentElement);return n};t.default={findClosestAncestor:o,isNestedInTable:function(e){return Boolean(o(e,"table"))},closestInlineStyle:function(e,t,n){for(var i=e;i;i=i.parentElement){var a=void 0;try{a=i.style[t]}catch(e){continue}if(a){if(void 0===n)return i;if(n===a)return i}}},isVisible:function(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},copyAttributesToDataAttributes:function(e,t,n){n.filter(function(t){return e.hasAttribute(t)}).forEach(function(n){return t.setAttribute("data-"+n,e.getAttribute(n))})},copyDataAttributesToAttributes:function(e,t,n){n.filter(function(t){return e.hasAttribute("data-"+t)}).forEach(function(n){return t.setAttribute(n,e.getAttribute("data-"+n))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(20);var i=l(n(1)),a=l(n(4)),r=l(n(0)),o=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=a.default.NODE_TYPE,c={ICON:"pagelib_collapse_table_icon",CONTAINER:"pagelib_collapse_table_container",COLLAPSED_CONTAINER:"pagelib_collapse_table_collapsed_container",COLLAPSED:"pagelib_collapse_table_collapsed",COLLAPSED_BOTTOM:"pagelib_collapse_table_collapsed_bottom",COLLAPSE_TEXT:"pagelib_collapse_table_collapse_text",EXPANDED:"pagelib_collapse_table_expanded",TABLE_INFOBOX:"pagelib_table_infobox",TABLE_OTHER:"pagelib_table_other"},s=function(e){return r.default.querySelectorAll(e,"a").length<3},d=function(e){return e&&e.replace(/[\s0-9]/g,"").length>0},f=function(e){var t=e.match(/\w+/);if(t)return t[0]},p=function(e,t){var n=f(t),i=f(e.textContent);return!(!n||!i)&&n.toLowerCase()===i.toLowerCase()},_=function(e){return e.trim().replace(/\s/g," ")},h=function(e,t){t.parentNode.replaceChild(e.createTextNode(" "),t)},g=function(e,t,n){if(!s(t))return null;var i=e.createDocumentFragment();i.appendChild(t.cloneNode(!0));var o=i.querySelector("th");r.default.querySelectorAll(o,".geo, .coordinates, sup.reference, ol, ul, style, script").forEach(function(e){return e.remove()});for(var l,c=o.lastChild;c;)n&&a.default.isNodeTypeElementOrText(c)&&p(c,n)?c.previousSibling?(c=c.previousSibling).nextSibling.remove():(c.remove(),c=void 0):(l=c).nodeType===u.ELEMENT_NODE&&"BR"===l.tagName?(h(e,c),c=c.previousSibling):c=c.previousSibling;var f=o.textContent;return d(f)?_(f):null},m=function(e,t){var n=e.hasAttribute("scope"),i=t.hasAttribute("scope");return n&&i?0:n?-1:i?1:0},v=function(e,t,n){var i=[],a=r.default.querySelectorAll(t,"th");a.sort(m);for(var o=0;o<a.length;++o){var l=g(e,a[o],n);if(l&&-1===i.indexOf(l)&&(i.push(l),2===i.length))break}return i},b=function(e,t,n){var i=e.children[0],a=e.children[1],r=e.children[2],o=i.querySelector(".app_table_collapsed_caption"),l="none"!==a.style.display;return l?(a.style.display="none",i.classList.remove(c.COLLAPSED),i.classList.remove(c.ICON),i.classList.add(c.EXPANDED),o&&(o.style.visibility="visible"),r.style.display="none",t===r&&n&&n(e)):(a.style.display="block",i.classList.remove(c.EXPANDED),i.classList.add(c.COLLAPSED),i.classList.add(c.ICON),o&&(o.style.visibility="hidden"),r.style.display="block"),l},y=function(e){var t=this.parentNode;return b(t,this,e)},E=function(e){var t=["navbox","vertical-navbox","navbox-inner","metadata","mbox-small"].some(function(t){return e.classList.contains(t)}),n=void 0;try{n="none"===e.style.display}catch(e){n=!0}return!n&&!t},T=function(e){return e.classList.contains("infobox")||e.classList.contains("infobox_v3")},S=function(e,t){var n=e.createElement("div");return n.classList.add(c.COLLAPSED_CONTAINER),n.classList.add(c.EXPANDED),n.appendChild(t),n},A=function(e,t){var n=e.createElement("div");return n.classList.add(c.COLLAPSED_BOTTOM),n.classList.add(c.ICON),n.innerHTML=t||"",n},L=function(e,t,n,i){var a=e.createDocumentFragment(),r=e.createElement("strong");r.innerHTML=t,r.classList.add(n),a.appendChild(r);var o=e.createElement("span");return o.classList.add(c.COLLAPSE_TEXT),i.length>0&&o.appendChild(e.createTextNode(": "+i[0])),i.length>1&&o.appendChild(e.createTextNode(", "+i[1])),i.length>0&&o.appendChild(e.createTextNode(" â€¦")),a.appendChild(o),a},C=function(e,t){if(e&&t){var n=e,i=e.parentNode;if(i){for(var a=!1;i;){if(o.default.isMediaWikiSectionElement(i)){a=!0;break}n=i,i=i.parentNode}a||(n=e,i=e.parentNode),i.insertBefore(t,n),i.removeChild(n)}}},w=function(e,t,n,a,r){for(var o=e.querySelectorAll("table, .infobox_v3"),l=0;l<o.length;++l){var u=o[l];if(!i.default.findClosestAncestor(u,"."+c.CONTAINER)&&E(u)){var s=v(e,u,t);if(s.length||T(u)){var d=L(e,T(u)?n:a,T(u)?c.TABLE_INFOBOX:c.TABLE_OTHER,s),f=e.createElement("div");f.className=c.CONTAINER,C(u,f),u.style.marginTop="0px",u.style.marginBottom="0px";var p=S(e,d);p.style.display="block";var _=A(e,r);_.style.display="none",f.appendChild(p),f.appendChild(u),f.appendChild(_),u.style.display="none"}}}},O=function(e){r.default.querySelectorAll(e,"."+c.CONTAINER).forEach(function(e){b(e)})},I=function(e,t,n,i){var a=function(t){return e.dispatchEvent(new r.default.CustomEvent("section-toggled",{collapsed:t}))};r.default.querySelectorAll(t,"."+c.COLLAPSED_CONTAINER).forEach(function(e){e.onclick=function(){var t=y.bind(e)();a(t)}}),r.default.querySelectorAll(t,"."+c.COLLAPSED_BOTTOM).forEach(function(e){e.onclick=function(){var t=y.bind(e,i)();a(t)}}),n||O(t)},N=function(e,t,n,i,a,r,o,l,u){i||(w(t,n,r,o,l),I(e,t,a,u))};t.default={CLASS:c,SECTION_TOGGLED_EVENT_TYPE:"section-toggled",toggleCollapsedForAll:O,toggleCollapseClickCallback:y,collapseTables:function(e,t,n,i,a,r,o,l){N(e,t,n,i,!0,a,r,o,l)},adjustTables:N,prepareTables:w,setupEventHandling:I,expandCollapsedTableIfItContainsElement:function(e){if(e){var t='[class*="'+c.CONTAINER+'"]',n=i.default.findClosestAncestor(e,t);if(n){var a=n.firstElementChild;a&&a.classList.contains(c.EXPANDED)&&a.click()}}},test:{elementScopeComparator:m,extractEligibleHeaderText:g,firstWordFromString:f,getTableHeaderTextArray:v,shouldTableBeCollapsed:E,isHeaderEligible:s,isHeaderTextEligible:d,isInfobox:T,newCollapsedHeaderDiv:S,newCollapsedFooterDiv:A,newCaptionFragment:L,isNodeTextContentSimilarToPageTitle:p,stringWithNormalizedWhitespace:_,replaceNodeWithBreakingSpaceTextNode:h}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return!!e&&(!("SECTION"!==e.tagName||!e.getAttribute("data-mw-section-id"))||!("DIV"!==e.tagName||!e.classList||!e.classList.contains("content_block")))};t.default={getSectionIDOfElement:function(e){var t=function(e){for(var t=e;t;){if(i(t))return t;t=t.parentElement}return null}(e);return t&&(t.getAttribute("data-mw-section-id")||t.id.replace("content_block_",""))},getLeadParagraphText:function(e){var t=e.querySelector("#content_block_0>p");return t&&t.innerText||""},getSectionOffsets:function(e){return{sections:Array.from(e.querySelectorAll("section")).reduce(function(e,t){var n=t.getAttribute("data-mw-section-id"),i=t&&t.firstElementChild&&t.firstElementChild.querySelector(".pagelib_edit_section_title");return n&&parseInt(n)>=1&&e.push({heading:i&&i.innerHTML,id:parseInt(n),yOffset:t.offsetTop}),e},[])}},isMediaWikiSectionElement:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={ELEMENT_NODE:1,TEXT_NODE:3};t.default={isNodeTypeElementOrText:function(e){return e.nodeType===i.ELEMENT_NODE||e.nodeType===i.TEXT_NODE},NODE_TYPE:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(21);var i=n(11).default,a=n(1).default,r=n(0).default,o={PLACEHOLDER_CLASS:"pagelib_lazy_load_placeholder",PLACEHOLDER_PENDING_CLASS:"pagelib_lazy_load_placeholder_pending",PLACEHOLDER_LOADING_CLASS:"pagelib_lazy_load_placeholder_loading",PLACEHOLDER_ERROR_CLASS:"pagelib_lazy_load_placeholder_error",IMAGE_LOADING_CLASS:"pagelib_lazy_load_image_loading",IMAGE_LOADED_CLASS:"pagelib_lazy_load_image_loaded"},l=["class","style","src","srcset","width","height","alt","usemap","data-file-width","data-file-height","data-image-gallery"],u={px:50,ex:10,em:5};t.default={CLASSES:o,PLACEHOLDER_CLASS:"pagelib_lazy_load_placeholder",queryLazyLoadableImages:function(e){return r.querySelectorAll(e,"img").filter(function(e){return function(e){var t=i.from(e);if(!t.width||!t.height)return!0;var n=u[t.widthUnit]||1/0,a=u[t.heightUnit]||1/0;return t.widthValue>=n&&t.heightValue>=a}(e)})},convertImagesToPlaceholders:function(e,t){return t.map(function(t){return function(e,t){var n=e.createElement("span");t.hasAttribute("class")&&n.setAttribute("class",t.getAttribute("class")||""),n.classList.add("pagelib_lazy_load_placeholder"),n.classList.add("pagelib_lazy_load_placeholder_pending");var r=i.from(t);r.width&&n.style.setProperty("width",""+r.width),a.copyAttributesToDataAttributes(t,n,l);var o=e.createElement("span");if(r.width&&r.height){var u=r.heightValue/r.widthValue;o.style.setProperty("padding-top",100*u+"%")}return n.appendChild(o),t.parentNode&&t.parentNode.replaceChild(n,t),n}(e,t)})},loadPlaceholder:function(e,t){t.classList.add("pagelib_lazy_load_placeholder_loading"),t.classList.remove("pagelib_lazy_load_placeholder_pending");var n=e.createElement("img"),i=function(e){n.setAttribute("src",n.getAttribute("src")||""),e.stopPropagation(),e.preventDefault()};return n.addEventListener("load",function(){t.removeEventListener("click",i),t.parentNode&&t.parentNode.replaceChild(n,t),n.classList.add("pagelib_lazy_load_image_loaded"),n.classList.remove("pagelib_lazy_load_image_loading")},{once:!0}),n.addEventListener("error",function(){t.classList.add("pagelib_lazy_load_placeholder_error"),t.classList.remove("pagelib_lazy_load_placeholder_loading"),t.addEventListener("click",i)},{once:!0}),a.copyDataAttributesToAttributes(t,n,l),n.classList.add("pagelib_lazy_load_image_loading"),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._window=t,this._period=n,this._function=i,this._context=void 0,this._arguments=void 0,this._result=void 0,this._timeout=0,this._timestamp=0}return i(e,null,[{key:"wrap",value:function(t,n,i){var a=new e(t,n,i),r=function(){return a.queue(this,arguments)};return r.result=function(){return a.result},r.pending=function(){return a.pending()},r.delay=function(){return a.delay()},r.cancel=function(){return a.cancel()},r.reset=function(){return a.reset()},r}}]),i(e,[{key:"queue",value:function(e,t){var n=this;return this._context=e,this._arguments=t,this.pending()||(this._timeout=this._window.setTimeout(function(){n._timeout=0,n._timestamp=Date.now(),n._result=n._function.apply(n._context,n._arguments)},this.delay())),this.result}},{key:"pending",value:function(){return Boolean(this._timeout)}},{key:"delay",value:function(){return this._timestamp?Math.max(0,this._period-(Date.now()-this._timestamp)):0}},{key:"cancel",value:function(){this._timeout&&this._window.clearTimeout(this._timeout),this._timeout=0}},{key:"reset",value:function(){this.cancel(),this._result=void 0,this._timestamp=0}},{key:"result",get:function(){return this._result}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(15);t.default={containerFragment:function(e,t){var n=e.createDocumentFragment(),i=e.createElement("section");i.id="pagelib_footer_container_menu",i.className="pagelib_footer_section",i.innerHTML="<h2 id='pagelib_footer_container_menu_heading'></h2>\n   <a name="+(t&&t.menu)+"></a>\n   <div id='pagelib_footer_container_menu_items'></div>",n.appendChild(i);var a=e.createElement("section");a.id="pagelib_footer_container_readmore",a.className="pagelib_footer_section",a.innerHTML="<h2 id='pagelib_footer_container_readmore_heading'></h2>\n   <a name="+(t&&t.readmore)+"></a>\n   <div id='pagelib_footer_container_readmore_pages'></div>",n.appendChild(a);var r=e.createElement("section");return r.id="pagelib_footer_container_legal",n.appendChild(r),n},isContainerAttached:function(e){return Boolean(e.querySelector("#pagelib_footer_container"))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(16);t.default={add:function(e,t,n,i,a,r,o){var l=e.querySelector("#"+i),u=t.split("$1");l.innerHTML="<div class='pagelib_footer_legal_contents'>\n    <hr class='pagelib_footer_legal_divider'>\n    <span class='pagelib_footer_legal_license'>\n      "+u[0]+"\n      <a class='pagelib_footer_legal_license_link'>\n        "+n+"\n      </a>\n      "+u[1]+"\n      <br>\n      <div class=\"pagelib_footer_browser\">\n        <a class='pagelib_footer_browser_link'>\n          "+r+"\n        </a>\n      </div>\n    </span>\n  </div>",l.querySelector(".pagelib_footer_legal_license_link").addEventListener("click",function(){a()}),l.querySelector(".pagelib_footer_browser_link").addEventListener("click",function(){o()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};var o=function(e){return e?r.default.querySelectorAll(e,".mbox-text-span").map(function(e){return r.default.querySelectorAll(e,".hide-when-compact, .collapsed").forEach(function(e){return e.remove()}),e}):[]},l=function(e){var t=e.closest("section[data-mw-section-id]"),n=t&&t.querySelector("h1,h2,h3,h4,h5,h6");return{id:t&&parseInt(t.getAttribute("data-mw-section-id"),10),title:n&&n.innerHTML.trim(),anchor:n&&n.getAttribute("id")}};t.default={collectHatnotes:function(e){return e?r.default.querySelectorAll(e,"div.hatnote").map(function(e){var t=r.default.querySelectorAll(e,'div.hatnote a[href]:not([href=""]):not([redlink="1"])').map(function(e){return e.href});return{html:e.innerHTML.trim(),links:t,section:l(e)}}):[]},collectPageIssues:function(e){return o(e).map(function(e){return{html:e.innerHTML.trim(),section:l(e)}})},test:{collectPageIssueElements:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(19);var i=function(e,t,n){var i=new RegExp("\\s?["+t+"][^"+t+n+"]+["+n+"]","g"),a=0,r=e,o="";do{o=r,r=r.replace(i,""),a++}while(o!==r&&a<30);return r},a=function(e){var t=e;return t=i(t,"(",")"),t=i(t,"/","/")},r=function e(t,n,i,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.displayTitle=n,this.thumbnail=i,this.description=a,this.extract=r},o=function(e,t,n,i){var o=[],l=i.getElementById(t);e.forEach(function(e,t){var n=e.titles.normalized;o.push(n);var u=function(e,t,n){var i=n.createElement("a");if(i.id=t,i.className="pagelib_footer_readmore_page",e.thumbnail&&e.thumbnail.source){var r=n.createElement("div");r.style.backgroundImage="url("+e.thumbnail.source+")",r.classList.add("pagelib_footer_readmore_page_image"),i.appendChild(r)}var o=n.createElement("div");o.classList.add("pagelib_footer_readmore_page_container"),i.appendChild(o),i.href="./"+encodeURI(e.title)+"?event_logging_label=read_more";var l=void 0;if(e.displayTitle?l=e.displayTitle:e.title&&(l=e.title),l){var u=n.createElement("div");u.id=t,u.className="pagelib_footer_readmore_page_title",u.innerHTML=l.replace(/_/g," "),i.title=e.title.replace(/_/g," "),o.appendChild(u)}var c=void 0;if(e.description&&(c=e.description),(!c||c.length<10)&&e.extract&&(c=a(e.extract)),c){var s=n.createElement("div");s.id=t,s.className="pagelib_footer_readmore_page_description",s.innerHTML=c,o.appendChild(s)}return n.createDocumentFragment().appendChild(i)}(new r(n,e.titles.display,e.thumbnail,e.description,e.extract),t,i);l.appendChild(u)}),n(o)},l=function(e){console.log("statusText = "+e)};t.default={add:function(e,t,n,i,a,r){!function(e,t,n,i,a,r,o){var u=new XMLHttpRequest;u.open("GET",function(e,t,n){return(n||"")+"/page/related/"+e}(e,0,i),!0),u.onload=function(){if(u.readyState===XMLHttpRequest.DONE)if(200===u.status){var e=JSON.parse(u.responseText).pages,i=void 0;if(e.length>t){var c=Math.floor(Math.random()*Math.floor(e.length-t));i=e.slice(c,c+t)}else i=e;a(i,n,r,o)}else l(u.statusText)},u.onerror=function(){return l(u.statusText)};try{u.send()}catch(e){l(e.toString())}}(e,t,n,i,o,a,r)},setHeading:function(e,t,n){var i=n.getElementById(t);i.innerText=e,i.title=e},test:{cleanExtract:a,safelyRemoveEnclosures:i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(t,n){a(this,e),this._value=Number(t),this._unit=n||"px"}return i(e,null,[{key:"fromElement",value:function(t,n){return t.style.getPropertyValue(n)&&e.fromStyle(t.style.getPropertyValue(n))||t.hasAttribute(n)&&new e(t.getAttribute(n))||void 0}},{key:"fromStyle",value:function(t){var n=t.match(/(-?\d*\.?\d*)(\D+)?/)||[];return new e(n[1],n[2])}}]),i(e,[{key:"toString",value:function(){return isNaN(this.value)?"":""+this.value+this.unit}},{key:"value",get:function(){return this._value}},{key:"unit",get:function(){return this._unit}}]),e}(),o=function(){function e(t,n){a(this,e),this._width=t,this._height=n}return i(e,null,[{key:"from",value:function(t){return new e(r.fromElement(t,"width"),r.fromElement(t,"height"))}}]),i(e,[{key:"width",get:function(){return this._width}},{key:"widthValue",get:function(){return this._width&&!isNaN(this._width.value)?this._width.value:NaN}},{key:"widthUnit",get:function(){return this._width&&this._width.unit||"px"}},{key:"height",get:function(){return this._height}},{key:"heightValue",get:function(){return this._height&&!isNaN(this._height.value)?this._height.value:NaN}},{key:"heightUnit",get:function(){return this._height&&this._height.unit||"px"}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(23);var i={SECTION_HEADER:"pagelib_edit_section_header",TITLE:"pagelib_edit_section_title",LINK_CONTAINER:"pagelib_edit_section_link_container",LINK:"pagelib_edit_section_link",PROTECTION:{UNPROTECTED:"",PROTECTED:"page-protected",FORBIDDEN:"no-editing"}},a="pagelib_edit_section_title_description",r="pagelib_edit_section_add_title_description",o="pagelib_edit_section_divider",l="pagelib_edit_section_title_pronunciation",u="data-id",c="data-action",s=function(e,t){var n=e.createElement("span");n.classList.add(i.LINK_CONTAINER);var a=function(e,t){var n=e.createElement("a");return n.href="",n.setAttribute(u,t),n.setAttribute(c,"edit_section"),n.classList.add(i.LINK),n}(e,t);return n.appendChild(a),n},d=function(e,t,n,a){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e.createElement("div");o.className=i.SECTION_HEADER;var l=e.createElement("h"+n);if(l.innerHTML=a||"",l.className=i.TITLE,l.setAttribute(u,t),o.appendChild(l),r){var c=s(e,t);o.appendChild(c)}return o},f=function(e,t,n,i){if(void 0!==t&&t.length>0){var o=e.createElement("p");return o.id=a,o.innerHTML=t,o}if(i){var l=e.createElement("a");l.href="#",l.setAttribute(c,"add_title_description");var u=e.createElement("p");return u.id=r,u.innerHTML=n,l.appendChild(u),l}return null};t.default={CLASS:i,ADD_TITLE_DESCRIPTION:r,setEditButtons:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.documentElement.classList;t?a.remove(i.PROTECTION.FORBIDDEN):a.add(i.PROTECTION.FORBIDDEN),n?a.add(i.PROTECTION.PROTECTED):a.remove(i.PROTECTION.PROTECTED)},newEditSectionButton:s,newEditSectionHeader:d,newEditLeadSectionHeader:function(e,t,n,i,a){var r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=e.createDocumentFragment(),p=d(e,0,1,t,r);if(u){var _=e.createElement("a");_.setAttribute(c,"title_pronunciation"),_.id=l,p.querySelector("h1").appendChild(_)}s.appendChild(p);var h=f(e,n,i,a);h&&s.appendChild(h);var g=e.createElement("hr");return g.id=o,s.appendChild(g),s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={ANDROID:"pagelib_platform_android",IOS:"pagelib_platform_ios"};t.default={CLASS:i,classify:function(e){var t=e.document.documentElement;(function(e){return/android/i.test(e.navigator.userAgent)})(e)&&t.classList.add(i.ANDROID),function(e){return/ipad|iphone|ipod/i.test(e.navigator.userAgent)}(e)&&t.classList.add(i.IOS)},setPlatform:function(e,t){e.documentElement.classList.add(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(29);var i=r(n(1)),a=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var o={IMAGE_PRESUMES_WHITE_BACKGROUND:"pagelib_theme_image_presumes_white_background",DIV_DO_NOT_APPLY_BASELINE:"pagelib_theme_div_do_not_apply_baseline"},l={DEFAULT:"pagelib_theme_default",DARK:"pagelib_theme_dark",SEPIA:"pagelib_theme_sepia",BLACK:"pagelib_theme_black"},u=new RegExp("Kit_(body|socks|shorts|right_arm|left_arm)(.*).png$"),c=function(e){return!u.test(e.src)&&(!e.classList.contains("mwe-math-fallback-image-inline")&&!i.default.closestInlineStyle(e,"background"))};t.default={CONSTRAINT:o,THEME:l,setTheme:function(e,t){var n=e.documentElement;for(var i in n.classList.add(t),l)Object.prototype.hasOwnProperty.call(l,i)&&l[i]!==t&&n.classList.remove(l[i])},classifyElements:function(e){a.default.querySelectorAll(e,"img").filter(c).forEach(function(e){e.classList.add(o.IMAGE_PRESUMES_WHITE_BACKGROUND)});var t=["div.color_swatch div",'div[style*="position: absolute"]','div.barbox table div[style*="background:"]','div.chart div[style*="background-color"]','div.chart ul li span[style*="background-color"]',"span.legend-color","div.mw-highlight span","code.mw-highlight span",".BrickChartTemplate div",".PieChartTemplate div",".BarChartTemplate div",".StackedBarTemplate td",".chess-board div",'span[style*="background"]'].join();a.default.querySelectorAll(e,t).forEach(function(e){return e.classList.add(o.DIV_DO_NOT_APPLY_BASELINE)})}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(18);var a,r=n(9),o=(a=r)&&a.__esModule?a:{default:a};var l={languages:1,lastEdited:2,pageIssues:3,disambiguation:4,coordinate:5,talkPage:6,referenceList:7},u=function(){function e(t,n,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.subtitle=n,this.itemType=i,this.clickHandler=a,this.payload=[]}return i(e,[{key:"iconClass",value:function(){switch(this.itemType){case l.languages:return"pagelib_footer_menu_icon_languages";case l.lastEdited:return"pagelib_footer_menu_icon_last_edited";case l.talkPage:return"pagelib_footer_menu_icon_talk_page";case l.pageIssues:return"pagelib_footer_menu_icon_page_issues";case l.disambiguation:return"pagelib_footer_menu_icon_disambiguation";case l.coordinate:return"pagelib_footer_menu_icon_coordinate";case l.referenceList:return"pagelib_footer_menu_icon_reference_list";default:return""}}},{key:"payloadExtractor",value:function(){switch(this.itemType){case l.pageIssues:return o.default.collectPageIssues;case l.disambiguation:return o.default.collectHatnotes;default:return}}}]),e}();t.default={MenuItemType:l,setHeading:function(e,t,n){var i=n.getElementById(t);i.innerText=e,i.title=e},maybeAddItem:function(e,t,n,i,a,r){var o=new u(e,t,n,a),l=o.payloadExtractor();l&&(o.payload=l(r),0===o.payload.length)||function(e,t,n){n.getElementById(t).appendChild(function(e,t){var n=t.createElement("div");n.className="pagelib_footer_menu_item";var i=t.createElement("a");if(i.addEventListener("click",function(){e.clickHandler(e.payload)}),n.appendChild(i),e.title){var a=t.createElement("div");a.className="pagelib_footer_menu_item_title",a.innerText=e.title,i.title=e.title,i.appendChild(a)}if(e.subtitle){var r=t.createElement("div");r.className="pagelib_footer_menu_item_subtitle",r.innerText=e.subtitle,i.appendChild(r)}var o=e.iconClass();return o&&n.classList.add(o),t.createDocumentFragment().appendChild(n)}(e,n))}(o,i,r)}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1)),a=o(n(4)),r=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(e){return e.indexOf("#cite_note")>-1},c=function(e){return Boolean(e)&&e.nodeType===Node.TEXT_NODE&&Boolean(e.textContent.match(/^\s+$/))},s=function(e){var t=e.querySelector("a");return t&&u(t.hash)},d=function(e,t){var n=t.querySelector("A").getAttribute("href").slice(1);return e.getElementById(n)||e.getElementById(decodeURIComponent(n))},f=function(e,t){var n=d(e,t);if(!n)return"";var i=e.createDocumentFragment(),o=e.createElement("div");i.appendChild(o);for(var l,u=n.firstChild;u;)a.default.isNodeTypeElementOrText(u)&&(l=u,o.appendChild(l.cloneNode(!0))),u=u.nextSibling;return r.default.querySelectorAll(o,"link, style, sup[id^=cite_ref], .mw-cite-backlink").forEach(function(e){return e.remove()}),o.innerHTML.trim()},p=function(e){return r.default.matchesSelector(e,".reference, .mw-ref")?e:i.default.findClosestAncestor(e,".reference, .mw-ref")},_=function e(t,n,i,a,r){l(this,e),this.id=t,this.rect=n,this.text=i,this.html=a,this.href=r},h=function e(t,n){l(this,e),this.href=t,this.text=n},g=function e(t,n){l(this,e),this.selectedIndex=t,this.referencesGroup=n},m=function(e,t){var n=e;do{n=t(n)}while(c(n));return n},v=function(e,t,n){for(var i=e;(i=m(i,t))&&i.nodeType===Node.ELEMENT_NODE&&s(i);)n(i)},b=function(e){return e.previousSibling},y=function(e){return e.nextSibling},E=function(e){var t=[e];return v(e,b,function(e){return t.unshift(e)}),v(e,y,function(e){return t.push(e)}),t};t.default={collectNearbyReferences:function(e,t){var n=t.parentElement,i=E(n),a=i.indexOf(n),r=i.map(function(t){return function(e,t){return new _(p(t).id,function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}(t),t.textContent,f(e,t),t.querySelector("A").getAttribute("href"))}(e,t)});return new g(a,r)},collectNearbyReferencesAsText:function(e,t){var n=t.parentElement,i=E(n),a=i.indexOf(n),r=i.map(function(e){return function(e,t){return new h(t.querySelector("A").getAttribute("href"),t.textContent)}(0,e)});return new g(a,r)},isCitation:u,test:{adjacentNonWhitespaceNode:m,closestReferenceClassElement:p,collectAdjacentReferenceNodes:v,collectNearbyReferenceNodes:E,collectRefText:f,getRefTextContainer:d,hasCitationLink:s,isWhitespaceTextNode:c,nextSiblingGetter:y,prevSiblingGetter:b}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={setPercentage:function(e,t){t&&(e.style["-webkit-text-size-adjust"]=t,e.style["text-size-adjust"]=t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={setMargins:function(e,t){void 0!==t.top&&(e.style.marginTop=t.top),void 0!==t.right&&(e.style.marginRight=t.right),void 0!==t.bottom&&(e.style.marginBottom=t.bottom),void 0!==t.left&&(e.style.marginLeft=t.left)},setPadding:function(e,t){void 0!==t.top&&(e.style.paddingTop=t.top),void 0!==t.right&&(e.style.paddingRight=t.right),void 0!==t.bottom&&(e.style.paddingBottom=t.bottom),void 0!==t.left&&(e.style.paddingLeft=t.left)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(27);var i="pagelib_dim_images",a=function(e,t){e.documentElement.classList[t?"add":"remove"](i)},r=function(e){return e.documentElement.classList.contains(i)};t.default={CLASS:i,dim:function(e,t){return a(e.document,t)},isDim:function(e){return r(e.document)},dimImages:a,areImagesDimmed:r}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=u(n(2)),r=u(n(1)),o=u(n(5)),l=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}var c=["scroll","resize",a.default.SECTION_TOGGLED_EVENT_TYPE],s=100,d=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._window=t,this._loadDistanceMultiplier=n,this._placeholders=[],this._registered=!1,this._throttledLoadPlaceholders=l.default.wrap(t,s,function(){return i._loadPlaceholders()})}return i(e,[{key:"convertImagesToPlaceholders",value:function(e){var t=o.default.queryLazyLoadableImages(e),n=o.default.convertImagesToPlaceholders(this._window.document,t);this._placeholders=this._placeholders.concat(n),this._register()}},{key:"collectExistingPlaceholders",value:function(e){var t=Array.from(e.querySelectorAll("."+o.default.PLACEHOLDER_CLASS));this._placeholders=this._placeholders.concat(t),this._register()}},{key:"loadPlaceholders",value:function(){this._throttledLoadPlaceholders()}},{key:"deregister",value:function(){var e=this;this._registered&&(c.forEach(function(t){return e._window.removeEventListener(t,e._throttledLoadPlaceholders)}),this._throttledLoadPlaceholders.reset(),this._placeholders=[],this._registered=!1)}},{key:"_register",value:function(){var e=this;!this._registered&&this._placeholders.length&&(this._registered=!0,c.forEach(function(t){return e._window.addEventListener(t,e._throttledLoadPlaceholders)}))}},{key:"_loadPlaceholders",value:function(){var e=this;this._placeholders=this._placeholders.filter(function(t){var n=!0;return e._isPlaceholderEligibleToLoad(t)&&(o.default.loadPlaceholder(e._window.document,t),n=!1),n}),0===this._placeholders.length&&this.deregister()}},{key:"_isPlaceholderEligibleToLoad",value:function(e){return r.default.isVisible(e)&&this._isPlaceholderWithinLoadDistance(e)}},{key:"_isPlaceholderWithinLoadDistance",value:function(e){var t=e.getBoundingClientRect(),n=this._window.innerHeight*this._loadDistanceMultiplier;return!(t.top>n||t.bottom<-n)}}]),e}();t.default=d},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(7)),a=l(n(8)),r=l(n(17)),o=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var u=void 0;t.default={MenuItemType:r.default.MenuItemType,add:function(e){var t=e.title,n=e.menu,l=n.items,c=n.fragment,s=e.l10n,d=e.readMore,f=d.itemCount,p=d.baseURL,_={menu:c,readmore:d.fragment};if(!1===i.default.isContainerAttached(document)&&document.body.appendChild(i.default.containerFragment(document,_)),r.default.setHeading(s.menuHeading,"pagelib_footer_container_menu_heading",document),l.forEach(function(e){var t="",n="",i="";switch(e){case r.default.MenuItemType.languages:i="languages",t=s.menuLanguagesTitle;break;case r.default.MenuItemType.lastEdited:i="lastEdited",t=s.menuLastEditedTitle,n=s.menuLastEditedSubtitle;break;case r.default.MenuItemType.pageIssues:i="pageIssues",t=s.menuPageIssuesTitle;break;case r.default.MenuItemType.disambiguation:i="disambiguation",t=s.menuDisambiguationTitle;break;case r.default.MenuItemType.coordinate:i="coordinate",t=s.menuCoordinateTitle;break;case r.default.MenuItemType.talkPage:i="talkPage",t=s.menuTalkPageTitle;break;case r.default.MenuItemType.referenceList:i="referenceList",t=s.menuReferenceListTitle}r.default.maybeAddItem(t,n,e,"pagelib_footer_container_menu_items",function(e){u&&u.footerItemSelected(i,e)},document)}),f&&f>0){o.default.setHeading(s.readMoreHeading,"pagelib_footer_container_readmore_heading",document);o.default.add(t,f,"pagelib_footer_container_readmore_pages",p,function(e){u&&u.titlesRetrieved(e)},document)}a.default.add(document,s.licenseString,s.licenseSubstitutionString,"pagelib_footer_container_legal",function(){u&&u.viewLicense()},s.viewInBrowserString,function(){u&&u.viewInBrowser()})},_connectHandlers:function(e){u=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=c(n(2)),r=c(n(30)),o=c(n(5)),l=c(n(22)),u=c(n(3));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d={InitialSetup:"setup",FinalSetup:"final_setup",LinkClicked:"link_clicked",ImageClicked:"image_clicked",ReferenceClicked:"reference_clicked",EditSection:"edit_section",AddTitleDescription:"add_title_description",PronunciationClicked:"pronunciation_clicked",FooterItemSelected:"footer_item_selected",SaveOtherPage:"save_other_page",ReadMoreTitlesRetrieved:"read_more_titles_retrieved",ViewLicense:"view_license",ViewInBrowser:"view_in_browser"},f=void 0,p=function e(t,n){s(this,e),this.action=t,this.data=n},_=0,h=1,g=2,m=3,v=4,b=function(){function e(t,n){s(this,e),this.target=t,this.href=n}return i(e,[{key:"type",value:function(){return l.default.isCitation(this.href)?v:"IMG"===this.target.tagName&&(this.target.classList.contains(o.default.CLASSES.IMAGE_LOADED_CLASS)||this.target.classList.contains(o.default.CLASSES.IMAGE_LOADING_CLASS))&&(this.target.closest("figure")||this.target.closest("figure-inline"))?g:"SPAN"===this.target.tagName&&this.target.classList.contains(o.default.CLASSES.PLACEHOLDER_CLASS)&&(this.target.closest("figure")||this.target.closest("figure-inline"))?m:this.href?h:_}}]),e}(),y=function(e){f&&f(e)},E=function(e){return e&&e.replace(/^\.\/.+:/g,"./File:")},T=function(e){switch(e.type()){case h:t=e.target,"#"===(n=e.href)[0]&&a.default.expandCollapsedTableIfItContainsElement(document.getElementById(n.substring(1))),y(new p(d.LinkClicked,{href:n,text:t.innerText,title:t.title}));break;case g:!function(e,t){var n=E(t);y(new p(d.ImageClicked,{href:n,src:e.getAttribute("src"),"data-file-width":e.getAttribute("data-file-width"),"data-file-height":e.getAttribute("data-file-height")}))}(e.target,e.href);break;case m:!function(e,t){var n=e.parentElement,i=E(t);y(new p(d.ImageClicked,{href:i,src:n.getAttribute("data-src"),"data-file-width":n.getAttribute("data-data-file-width"),"data-file-height":n.getAttribute("data-data-file-height")}))}(e.target,e.href);break;case v:!function(e){var t=l.default.collectNearbyReferences(document,e);y(new p(d.ReferenceClicked,t))}(e.target);break;default:return!1}var t,n;return!0},S=function(e,t){y(new p(d.FooterItemSelected,{itemType:e,payload:t}))},A=function(e){y(new p(d.SaveOtherPage,{title:e}))},L=function(e){y(new p(d.ReadMoreTitlesRetrieved,{titles:e}))},C=function(){y(new p(d.ViewLicense))},w=function(){y(new p(d.ViewInBrowser))};t.default={Actions:d,getSelectionInfo:function(e){var t=(e||window).getSelection(),n=t.toString(),i=t.anchorNode;return{text:n,section:u.default.getSectionIDOfElement(i),isTitleDescription:i&&i.parentElement&&"pagelib_edit_section_title_description"===i.parentElement.id||!1}},setInteractionHandler:function(e){f=e,r.default._connectHandlers({footerItemSelected:S,saveOtherPage:A,titlesRetrieved:L,viewLicense:C,viewInBrowser:w}),document.addEventListener("click",function(e){e.preventDefault(),function(e){var t=e.target;if(t){var n=t.closest("A");if(n)if("edit_section"!==n.getAttribute("data-action"))if("add_title_description"!==n.getAttribute("data-action"))if("title_pronunciation"!==n.getAttribute("data-action")){var i=n.getAttribute("href");i&&T(new b(t,i))}else y(new p(d.PronunciationClicked));else y(new p(d.AddTitleDescription));else y(new p(d.EditSection,{sectionId:n.getAttribute("data-id")}))}}(e)},!1)},initialSetupComplete:function(){y(new p(d.InitialSetup))},finalSetupComplete:function(){y(new p(d.FinalSetup))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var o={addTitleDescription:"#"+r(n(12)).default.ADD_TITLE_DESCRIPTION,tableInfobox:"."+a.default.CLASS.TABLE_INFOBOX,tableOther:"."+a.default.CLASS.TABLE_OTHER,tableClose:"."+a.default.CLASS.COLLAPSED_BOTTOM};t.default={localizeLabels:function(e){var t=!0,n=!1,a=void 0;try{for(var r,l=Object.entries(o)[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var u=r.value,c=i(u,2),s=c[0],d=c[1];if(e[s]){var f=Array.from(document.querySelectorAll(d)),p=!0,_=!1,h=void 0;try{for(var g,m=f[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){g.value.innerHTML=e[s]}}catch(e){_=!0,h=e}finally{try{!p&&m.return&&m.return()}finally{if(_)throw h}}}}}catch(e){n=!0,a=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw a}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.default={setScrollTop:function(e){i=e},scrollWithDecorOffset:function(e){window.scrollTo(0,e.parentNode.offsetTop-i)},testing:{getScrollTop:function(){return i}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(35),r=(i=a)&&i.__esModule?i:{default:i};t.default={c1:r.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(30)),a=d(n(31)),r=d(n(32)),o=d(n(36)),l=d(n(37)),u=d(n(33)),c=d(n(38)),s=d(n(39));function d(e){return e&&e.__esModule?e:{default:e}}t.default={Footer:i.default,InteractionHandling:a.default,L10N:r.default,Platforms:l.default,Page:o.default,Scroller:u.default,Sections:c.default,Themes:s.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=_(n(24)),a=_(n(25)),r=_(n(2)),o=_(n(26)),l=_(n(12)),u=_(n(31)),c=_(n(32)),s=_(n(28)),d=_(n(13)),f=_(n(33)),p=_(n(14));function _(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){var n=e||{};if(void 0!==n.platform&&d.default.setPlatform(document,n.platform),void 0!==n.l10n&&c.default.localizeLabels(n.l10n),void 0!==n.theme&&p.default.setTheme(document,n.theme),void 0!==n.dimImages&&o.default.dimImages(document,n.dimImages),void 0!==n.margins&&a.default.setMargins(document.body,n.margins),void 0===n.setupTableEventHandling||n.setupTableEventHandling){var l=!0!==n.areTablesInitiallyExpanded;r.default.setupEventHandling(window,document,l,f.default.scrollWithDecorOffset)}if(void 0!==n.scrollTop&&f.default.setScrollTop(n.scrollTop),void 0!==n.textSizeAdjustmentPercentage&&i.default.setPercentage(document.body,n.textSizeAdjustmentPercentage),void 0===n.loadImages||!0===n.loadImages){var u=new s.default(window,2);u.collectExistingPlaceholders(document.body),u.loadPlaceholders()}t instanceof Function&&(window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){setTimeout(function(){t()},1)}):t())};t.default={onBodyStart:function(){if("undefined"!=typeof pcsClient&&pcsClient.getSetupSettings){var e=pcsClient.getSetupSettings();document.pcsSetupSettings=JSON.parse(e)}if("undefined"!=typeof pcsClient&&pcsClient.onReceiveMessage&&(document.pcsActionHandler=function(e){pcsClient.onReceiveMessage(JSON.stringify(e))}),document&&document.pcsActionHandler&&u.default.setInteractionHandler(document.pcsActionHandler),document&&document.pcsSetupSettings){var t={theme:document.pcsSetupSettings.theme,margins:document.pcsSetupSettings.margins,loadImages:!1,setupTableEventHandling:!1};h(t,function(){u.default.initialSetupComplete()})}},onBodyEnd:function(){var e=100,t=function(){u.default.finalSetupComplete()};if(document&&document.pcsSetupSettings){var n=document.pcsSetupSettings;delete n.theme,delete n.margins,n.setupTableEventHandling=!0,h(n,t),e=document.pcsSetupSettings.remainingTimeout||e}else h({setupTableEventHandling:!0},t);setTimeout(function(){for(var e=document.querySelectorAll("section"),t=1;t<e.length;t++)e[t].style.display=""},e)},setup:h,setTheme:function(e,t){p.default.setTheme(document,e),t instanceof Function&&t()},setDimImages:function(e,t){o.default.dimImages(document,e),t instanceof Function&&t()},setMargins:function(e,t){a.default.setMargins(document.body,e),t instanceof Function&&t()},setScrollTop:function(e,t){f.default.setScrollTop(e),t instanceof Function&&t()},setTextSizeAdjustmentPercentage:function(e,t){i.default.setPercentage(document.body,e),t instanceof Function&&t()},setEditButtons:function(e,t,n){l.default.setEditButtons(document,e,t),n instanceof Function&&n()},getProtection:function(){var e=document.head.querySelectorAll("meta"),t={},n="mw:pageProtection:".length;return e.forEach(function(e){var i=e.getAttribute("property");i&&i.startsWith("mw:pageProtection:")&&(t[i.substring(n)]=e.getAttribute("content"))}),t},getRevision:function(){var e=document.documentElement.getAttribute("about");return e.substring(e.lastIndexOf("/")+1)},getTableOfContents:function(){var e=document.querySelectorAll("section"),t=[],n=new Array(10).fill(0),i=0;return[].forEach.call(e,function(e){var a=parseInt(e.getAttribute("data-mw-section-id"),10);if(!(!a||isNaN(a)||a<1)){var r=e.querySelector("h1,h2,h3,h4,h5,h6");if(r){var o=parseInt(r.tagName.charAt(1),10)-1;o<i&&n.fill(0,o),i=o,n[o-1]++,t.push({level:o,id:a,number:n.slice(0,o).map(function(e){return e.toString()}).join("."),anchor:r.getAttribute("id"),title:r.innerHTML.trim()})}}}),t},testing:{getScroller:function(){return f.default}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(13);var r=((i=a)&&i.__esModule?i:{default:i}).default.CLASS;t.default={ANDROID:r.ANDROID,IOS:r.IOS}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(3),r=(i=a)&&i.__esModule?i:{default:i};t.default={getOffsets:r.default.getSectionOffsets}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(14);var r=((i=a)&&i.__esModule?i:{default:i}).default.THEME;t.default={DEFAULT:r.DEFAULT,DARK:r.DARK,SEPIA:r.SEPIA,BLACK:r.BLACK}}]).default});